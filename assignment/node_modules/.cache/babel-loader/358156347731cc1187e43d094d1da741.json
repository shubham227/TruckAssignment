{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shubh\\\\Desktop\\\\TruckX_Assignment\\\\assignment\\\\src\\\\src\\\\Customers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Input, Space, Button, Table } from 'antd';\nimport { AudioOutlined } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\nconst duumy = [{\n  id: 1,\n  name: 'abc'\n}, {\n  id: 2,\n  name: 'def'\n}];\n\nconst onSearch = value => {\n  console.log(value);\n  fetchUser(id);\n};\n\nconst fetchUser = async id => {\n  let response = await fetch(`https://reqres.in/api/users/${id}`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Accept\": \"application/json\"\n    },\n    mode: 'cors'\n  });\n  response.json().then(res => {\n    console.log('fetch result', res);\n  });\n};\n\nconst Customers = () => {\n  _s();\n\n  const [heading, setHeading] = useState();\n  const [tableData, setTableData] = useState([]);\n  let history = useHistory();\n  let i = 1;\n  let masterData = [];\n\n  const getData = async url => {\n    let response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Accept\": \"application/json\"\n      },\n      mode: 'cors'\n    });\n    response.json().then(item => {\n      item.data.forEach(element => {\n        masterData.push(element);\n      });\n\n      if (item.total_pages > i) {\n        getData(`https://reqres.in/api/users?page=${++i}`);\n      } else {\n        setTableData(masterData);\n      }\n    });\n  };\n\n  const deleteUser = async id => {\n    const user_response = await fetch(`https://reqres.in/api/users/${id}`, {\n      method: 'DELETE',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Accept\": \"application/json\"\n      },\n      mode: 'cors'\n    });\n\n    if (user_response.status === 204) {\n      alert('User Deleted');\n    }\n  };\n\n  const handleDelete = (record, tableData) => {\n    if (window.confirm('Are you sure want to delete ?')) {\n      deleteUser(record.id);\n    } // setTableData(tableData.filter((item) => item.id !== record.id));\n\n  };\n\n  useEffect(() => {\n    var column = [{\n      title: 'Id',\n      dataIndex: 'id'\n    }, {\n      title: 'Email',\n      dataIndex: 'email'\n    }, {\n      title: 'First Name',\n      dataIndex: 'first_name'\n    }, {\n      title: 'Last Name',\n      dataIndex: 'last_name'\n    }, {\n      title: 'Action',\n      dataIndex: '',\n      render: (text, record, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => history.push({\n            pathname: '/edit',\n            state: {\n              detail: record\n            }\n          }),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 59\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => handleDelete(record, tableData),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 54\n      }, this)\n    }];\n    setHeading(column);\n    getData('https://reqres.in/api/users');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"My Customers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      placeholder: \"Search by id\",\n      onSearch: onSearch,\n      enterButton: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      onClick: () => history.push('/add'),\n      children: \"Add user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: heading,\n      dataSource: tableData,\n      bordered: true,\n      pagination: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Customers, \"6qNX2Wz2wSy/7as6gY7ThhQH0y4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Customers;\nexport default Customers;\n\nvar _c;\n\n$RefreshReg$(_c, \"Customers\");","map":{"version":3,"sources":["C:/Users/shubh/Desktop/TruckX_Assignment/assignment/src/src/Customers.js"],"names":["React","useEffect","useState","Input","Space","Button","Table","AudioOutlined","useHistory","Search","duumy","id","name","onSearch","value","console","log","fetchUser","response","fetch","method","headers","mode","json","then","res","Customers","heading","setHeading","tableData","setTableData","history","i","masterData","getData","url","item","data","forEach","element","push","total_pages","deleteUser","user_response","status","alert","handleDelete","record","window","confirm","column","title","dataIndex","render","text","index","pathname","state","detail"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Input, Space, Button, Table } from 'antd';\r\nimport { AudioOutlined } from '@ant-design/icons';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst { Search } = Input;\r\n\r\nconst duumy = [\r\n    {\r\n        id: 1,\r\n        name: 'abc',\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'def',\r\n    }\r\n]\r\nconst onSearch = value => {console.log(value)\r\n    fetchUser(id);\r\n};\r\n\r\nconst fetchUser = async (id) => {\r\n    let response = await fetch(`https://reqres.in/api/users/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n            \"Accept\": \"application/json\",\r\n        },\r\n        mode: 'cors',\r\n    });\r\n    response.json().then((res) => {\r\n        console.log('fetch result' , res);\r\n    })\r\n}\r\n\r\n\r\n\r\nconst Customers = () => {\r\n    const [heading, setHeading] = useState();\r\n    const [tableData, setTableData] = useState([]);\r\n    let history = useHistory();\r\n    let i = 1;\r\n    let masterData = [];\r\n    const getData = async (url) => {\r\n\r\n        let response = await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Access-Control-Allow-Origin\": \"*\",\r\n                \"Accept\": \"application/json\",\r\n            },\r\n            mode: 'cors',\r\n        })\r\n        response.json().then((item) => {\r\n            item.data.forEach(element => {\r\n                masterData.push(element)\r\n            });\r\n            if (item.total_pages > i) {\r\n                getData(`https://reqres.in/api/users?page=${++i}`);\r\n            }\r\n            else {\r\n                setTableData(masterData);\r\n            }\r\n        })\r\n    }\r\n    const deleteUser = async (id) => {\r\n        const user_response =    await fetch(`https://reqres.in/api/users/${id}`, {\r\n               method: 'DELETE',\r\n               headers: {\r\n                   \"Content-Type\": \"application/json\",\r\n                   \"Access-Control-Allow-Origin\": \"*\",\r\n                   \"Accept\": \"application/json\",\r\n               },\r\n               mode: 'cors',\r\n               \r\n       });\r\n       if(user_response.status === 204){\r\n        alert('User Deleted');\r\n       }\r\n       \r\n    }\r\n    const handleDelete = (record, tableData) => {\r\n        if(window.confirm('Are you sure want to delete ?')){\r\n            deleteUser(record.id);\r\n        }\r\n            // setTableData(tableData.filter((item) => item.id !== record.id));\r\n        }\r\n        useEffect(() => {\r\n            var column = [\r\n                {\r\n                    title: 'Id',\r\n                    dataIndex: 'id',\r\n                },\r\n                {\r\n                    title: 'Email',\r\n                    dataIndex: 'email',\r\n                },\r\n                {\r\n                    title: 'First Name',\r\n                    dataIndex: 'first_name',\r\n                },\r\n                {\r\n                    title: 'Last Name',\r\n                    dataIndex: 'last_name',\r\n                },\r\n                {\r\n                    title: 'Action',\r\n                    dataIndex: '',\r\n                    render: (text, record, index) => <div><span onClick={() => history.push({\r\n                        pathname: '/edit',\r\n                        state: { detail: record }\r\n                    })}>Edit</span> <span onClick={() => handleDelete(record, tableData)}>Delete</span></div>\r\n                },\r\n            ]\r\n            setHeading(column);\r\n            getData('https://reqres.in/api/users')\r\n        }, [])\r\n        return (\r\n            <div>\r\n                <div>My Customers</div>\r\n                <Search placeholder=\"Search by id\" onSearch={onSearch} enterButton />\r\n                <Button type=\"primary\" onClick={() => history.push('/add')}>Add user</Button>\r\n                <Table\r\n                    columns={heading}\r\n                    dataSource={tableData}\r\n                    bordered={true}\r\n                    pagination={false}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    export default Customers; "]},"metadata":{},"sourceType":"module"}